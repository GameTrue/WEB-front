<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Courses">
    <title>CourseMan</title>
		
	<link rel="icon" type="image/png" href="https://i.imgur.com/oxu8p7O.png">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Gabarito:wght@400..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- Подключаем header -->
    <header id="header-placeholder"></header>

    <section class="main-content">
		<div class="main-content-container">
			<h1>Main Content</h1>
			<span class="main-subcontent">Start making yourself better</span>
			<div class="main-buttons">
				<button class="button-blue main-button">Learn everything</button>
				<button class="button-purple main-button">Teach</button>
			</div>
		</div>
    </section>

    <section class="main-media-section">
        <h2>MainMediaSection</h2>
        <div class="main-media-content">
			<img src="https://i.imgur.com/T4DYzJO.jpeg">
            <div class="main-media-box">
                <h3>MainMedia_1</h3>
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Знания<sup>2</sup> = <span class="font-ital">успех</span></p>
            </div>
        </div>
    </section>

	
    <section class="main-media-links">
		<h2>MainMediaLinks</h2>
		<div class="media-content">
			<div class="main-media-container">
				<div class="temp"></div>
				<span>VK</span>
			</div>
			
			<div class="main-media-container">
				<div class="temp"></div>
				<span>Instagram</span>
			</div>
			
			<div class="main-media-container">
				<div class="temp"></div>
				<span>Telegram</span>
			</div>
		</div>
    </section>

    <!-- Здесь будет динамически подгружен footer -->
    <footer id="footer-placeholder"></foooter>

	<!-- JavaScript для подгрузки шаблонов -->
    <script>
        // Функция для подгрузки фрагментов
        function loadFragment(fragmentId, url, callback) {
            fetch(url)
                .then(response => response.text())
                .then(data => {
                    document.getElementById(fragmentId).innerHTML = data;
                    if (callback) callback(); // Вызов callback после загрузки
                })
                .catch(error => console.error('Ошибка загрузки фрагмента:', error));
        }

        // Подгрузка header и footer
        loadFragment('header-placeholder', 'header.html', setActiveLink);
        loadFragment('footer-placeholder', 'footer.html');


		// Функция для установки класса active-link на активную страницу
        function setActiveLink() {
            const path = window.location.pathname;
			// Извлекаем последний элемент пути (название страницы)
			const page = path.substring(path.lastIndexOf('/') + 1);
            const menuItems = document.querySelectorAll('nav a');

            menuItems.forEach(link => {
                // Сравниваем ссылку с текущим URL
				console.log(link.getAttribute('href'), path)
                if (link.getAttribute('href') === page) {
                    link.querySelector('li').classList.add('active-link');
                }
            });
        }
    </script>

</body>
</html>
